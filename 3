#include <stdio.h>
#include <stdlib.h>
void insertByOrder(int *arr, int *n, int key)
{
int i = *n - 1;

while (i >= 0 && arr[i] > key) {
arr[i + 1] = arr[i];
i--;
}

arr[i + 1] = key;
(*n)++;
}

void deleteByPosition(int *arr, int *n, int pos) {
if (pos < 1 || pos > *n) {
printf("Invalid position\n");
return;
}
for (int i = pos - 1; i < *n - 1; i++) {
arr[i] = arr[i + 1];
}
(*n)--;
}

void searchByKey(int *arr, int *n, int key) {
for (int i = 0; i < *n; i++) {
if (arr[i] == key) {
printf("Key %d found at position %d\n", key, i + 1);
return;
}
}
printf("Key %d not found\n", key);
}
void reverse(int *arr, int *n) {
for (int i = 0; i < *n / 2; i++) {
int temp = arr[i];
arr[i] = arr[*n - i - 1];
arr[*n - i - 1] = temp;
}
}

void printArray(int *arr, int *n) {
printf("Current array: ");
for (int i = 0; i < *n; i++) {
printf("%d ", arr[i]);
}
printf("\n");
}
int main() {
int *arr, n, c, choice;
int pos, key;

printf("Enter the capacity and size of the array: ");
scanf("%d %d", &c, &n);
arr = (int *)malloc(c * sizeof(int));

printf("Enter %d elements of the array in sorted order:\n", n);
for(int i = 0; i < n; i++) {
scanf("%d"
, &arr[i]);
}

do {
printf("\nMenu: \n");
printf("1. Insert by order.\n");
printf("2. Delete by position.\n");
printf("3. Search by key.\n");
printf("4. Reverse the content.\n");
printf("5. Exit\n\n");
printf("Enter your choice: ");
scanf("%d", &choice);
switch (choice) {
case 1:
printf("Enter the element to insert: ");
scanf("%d", &key);
insertByOrder(arr, &n, key);
break;
case 2:
printf("Enter the position to delete: ");
scanf("%d"
, &pos);
deleteByPosition(arr, &n, pos);
break;
case 3:
printf("Enter the key to search: ");
scanf("%d", &key);
searchByKey(arr, &n, key);
break;
case 4:
printf("The contents of the array after reversing are:\n");
reverse(arr, &n);
break;
case 5:
printf("Exiting the program\n");
free(arr);
return 0;
default:
printf("Invalid choice. Please enter a valid option.\n");
}
printArray(arr, &n);
} while (choice != 5);
return 0;
}
